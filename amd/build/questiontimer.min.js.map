{"version":3,"file":"questiontimer.min.js","sources":["../src/questiontimer.js"],"sourcesContent":["\"use strict\";\n\nimport jQuery from 'jquery';\n\nlet REGION = {\n    PAGE: '[data-region=\"question-content\"]',\n    TIMER: '[data-region=\"question-timer\"]',\n    SECONDS: '[data-region=\"seconds\"]'\n};\n\n/**\n * @constructor\n * @param {String} selector\n */\nfunction QuestionTimer(selector) {\n    this.node = jQuery(selector);\n    this.initTimer();\n}\n\n/** @type {jQuery} The jQuery node for the page region. */\nQuestionTimer.prototype.node = null;\nQuestionTimer.prototype.timeValue = null;\nQuestionTimer.prototype.countDown = null;\nQuestionTimer.prototype.timeFinish = new Event('timeFinish');\n\nQuestionTimer.prototype.initTimer = function() {\n    this.timeValue = this.node.find(REGION.SECONDS).html();\n    this.countDown = setInterval(() => {\n        if (this.timeValue <= 0) {\n            this.node.find(REGION.SECONDS).html(this.timeValue);\n            clearInterval(this.countDown);\n            dispatchEvent(this.timeFinish);\n        } else {\n            this.node.find(REGION.SECONDS).html(this.timeValue);\n        }\n        this.timeValue -= 1;\n    }, 1000);\n    addEventListener('endTimer', () => {\n        clearInterval(this.countDown);\n    }, false);\n};\n\nexport const initQuestionTimer = (selector) => {\n    return new QuestionTimer(selector);\n};\n"],"names":["obj","Object","defineProperty","_exports","value","initQuestionTimer","_jquery","__esModule","default","REGION","QuestionTimer","selector","this","node","jQuery","initTimer","prototype","timeValue","countDown","timeFinish","Event","_this","find","html","setInterval","clearInterval","dispatchEvent","addEventListener"],"mappings":"mFAE4B,IAAAA,IAFfC,OAAAC,eAAAC,SAAA,aAAA,CAAAC,OAAA,IAAAD,SAAAE,uBAAA,EAEbC,SAA4BN,IAA5BM,UAA4BN,IAAAO,WAAAP,IAAAQ,CAAAA,QAAAR,KAE5B,IAAIS,eAGS,0BAOb,SAASC,cAAcC,UACnBC,KAAKC,MAAO,EAAAC,QAAMN,SAACG,UACnBC,KAAKG,WACT,CAGAL,cAAcM,UAAUH,KAAO,KAC/BH,cAAcM,UAAUC,UAAY,KACpCP,cAAcM,UAAUE,UAAY,KACpCR,cAAcM,UAAUG,WAAa,IAAIC,MAAM,cAE/CV,cAAcM,UAAUD,UAAY,WAAW,IAAAM,MAAAT,KAC3CA,KAAKK,UAAYL,KAAKC,KAAKS,KAAKb,gBAAgBc,OAChDX,KAAKM,UAAYM,aAAY,WACrBH,MAAKJ,WAAa,GAClBI,MAAKR,KAAKS,KAAKb,gBAAgBc,KAAKF,MAAKJ,WACzCQ,cAAcJ,MAAKH,WACnBQ,cAAcL,MAAKF,aAEnBE,MAAKR,KAAKS,KAAKb,gBAAgBc,KAAKF,MAAKJ,WAE7CI,MAAKJ,WAAa,CACrB,GAAE,KACHU,iBAAiB,YAAY,WACzBF,cAAcJ,MAAKH,UACtB,IAAE,IAKLf,SAAAE,kBAF+B,SAACM,UAC9B,OAAO,IAAID,cAAcC,UAC3B"}