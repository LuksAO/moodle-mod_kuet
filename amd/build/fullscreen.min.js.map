{"version":3,"file":"fullscreen.min.js","sources":["../src/fullscreen.js"],"sourcesContent":["\"use strict\";\n\nimport jQuery from 'jquery';\n\nlet ACTION = {\n    EXPAND: '[data-action=\"question-fullscreen\"]',\n    COMPRESS: '[data-action=\"question-exit-fullscreen\"]'\n};\n\nlet REGION = {\n    PAGE_HEADER: '#page-header',\n    BODY: 'body.path-mod-jqshow',\n    NAV: 'nav.navbar'\n};\n\n/**\n * @constructor\n * @param {String} selector\n */\nfunction FullScreen(selector) {\n    this.node = jQuery(selector);\n    this.initFullScreen();\n}\n\n/** @type {jQuery} The jQuery node for the page region. */\nFullScreen.prototype.node = null;\n\nFullScreen.prototype.initFullScreen = function() {\n    this.node.find(ACTION.EXPAND).on('click', this.fullScreen);\n    this.node.find(ACTION.COMPRESS).on('click', this.exitFullScreen);\n    this.node.find(ACTION.COMPRESS).on('click', this.exitFullScreen);\n    let that = this;\n    jQuery(document).keyup(function(e) {\n        if (e.key === 'Escape') {\n            that.exitFullScreen();\n        }\n    });\n};\n\nFullScreen.prototype.fullScreen = function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    jQuery(ACTION.EXPAND).css('display', 'none');\n    jQuery(ACTION.COMPRESS).css('display', 'block');\n    jQuery(REGION.BODY).addClass('fullscreen');\n    jQuery(window).scrollTop(0);\n    jQuery('html, body').animate({scrollTop: 0}, 500);\n    let element = document.getElementById(\"page-mod-jqshow-preview\"); // TODO review.\n    if (element.requestFullscreen) {\n        element.requestFullscreen();\n    } else if (element.webkitRequestFullscreen) { /* Safari */\n        element.webkitRequestFullscreen();\n    } else if (element.msRequestFullscreen) { /* IE11 */\n        element.msRequestFullscreen();\n    }\n};\n\nFullScreen.prototype.exitFullScreen = function() {\n    jQuery(ACTION.EXPAND).css('display', 'block');\n    jQuery(ACTION.COMPRESS).css('display', 'none');\n    jQuery(REGION.BODY).removeClass('fullscreen');\n    if (document.fullscreen) {\n        document.exitFullscreen();\n    }\n};\n\nexport const initFullScreen = (selector) => {\n    return new FullScreen(selector);\n};\n"],"names":["obj","Object","defineProperty","_exports","value","initFullScreen","_jquery","__esModule","default","ACTION","REGION","FullScreen","selector","this","node","jQuery","prototype","find","on","fullScreen","exitFullScreen","that","document","keyup","e","key","preventDefault","stopPropagation","css","addClass","window","scrollTop","animate","element","getElementById","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","removeClass","fullscreen","exitFullscreen"],"mappings":"gFAE4B,IAAAA,IAFfC,OAAAC,eAAAC,SAAA,aAAA,CAAAC,OAAA,IAAAD,SAAAE,oBAAA,EAEbC,SAA4BN,IAA5BM,UAA4BN,IAAAO,WAAAP,IAAAQ,CAAAA,QAAAR,KAE5B,IAAIS,cACQ,sCADRA,gBAEU,2CAGVC,YAEM,uBAQV,SAASC,WAAWC,UAChBC,KAAKC,MAAO,EAAAC,QAAMP,SAACI,UACnBC,KAAKR,gBACT,CAGAM,WAAWK,UAAUF,KAAO,KAE5BH,WAAWK,UAAUX,eAAiB,WAClCQ,KAAKC,KAAKG,KAAKR,eAAeS,GAAG,QAASL,KAAKM,YAC/CN,KAAKC,KAAKG,KAAKR,iBAAiBS,GAAG,QAASL,KAAKO,gBACjDP,KAAKC,KAAKG,KAAKR,iBAAiBS,GAAG,QAASL,KAAKO,gBACjD,IAAIC,KAAOR,MACX,EAAAE,QAAAA,SAAOO,UAAUC,OAAM,SAASC,GACd,WAAVA,EAAEC,KACFJ,KAAKD,gBAEb,KAGJT,WAAWK,UAAUG,WAAa,SAASK,GACvCA,EAAEE,iBACFF,EAAEG,mBACF,EAAAZ,QAAMP,SAACC,eAAemB,IAAI,UAAW,SACrC,EAAAb,QAAMP,SAACC,iBAAiBmB,IAAI,UAAW,UACvC,EAAAb,QAAAA,SAAOL,aAAamB,SAAS,eAC7B,EAAAd,QAAAA,SAAOe,QAAQC,UAAU,IACzB,EAAAhB,iBAAO,cAAciB,QAAQ,CAACD,UAAW,GAAI,KAC7C,IAAIE,QAAUX,SAASY,eAAe,2BAClCD,QAAQE,kBACRF,QAAQE,oBACDF,QAAQG,wBACfH,QAAQG,0BACDH,QAAQI,qBACfJ,QAAQI,uBAIhB1B,WAAWK,UAAUI,eAAiB,YAClC,EAAAL,QAAMP,SAACC,eAAemB,IAAI,UAAW,UACrC,EAAAb,QAAMP,SAACC,iBAAiBmB,IAAI,UAAW,SACvC,EAAAb,QAAAA,SAAOL,aAAa4B,YAAY,cAC5BhB,SAASiB,YACTjB,SAASkB,kBAMfrC,SAAAE,eAF4B,SAACO,UAC3B,OAAO,IAAID,WAAWC,UACxB"}