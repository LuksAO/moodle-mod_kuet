define("mod_jqshow/testssl",["jquery","core/str","core/notification"],(function($,str,notification){var portUrl="8080";function TestSockets(region,port){this.root=$(region),portUrl=port,this.initTestSockets()}TestSockets.prototype.root=null;var messageBox=null;return TestSockets.prototype.initTestSockets=function(){messageBox=this.root.find("#testresult"),TestSockets.prototype.webSocket=new WebSocket("wss://"+M.cfg.wwwroot.replace(/^https?:\/\//,"")+":"+portUrl+"/testjqshow"),TestSockets.prototype.webSocket.onopen=function(){str.get_strings([{key:"validcertificates",component:"mod_jqshow"}]).done((function(strings){messageBox.append('<div class="alert alert-success" role="alert">'+strings[0]+"</div>");TestSockets.prototype.sendMessageSocket(JSON.stringify({action:"shutdownTest"}))})).fail(notification.exception)},TestSockets.prototype.webSocket.onerror=function(){str.get_strings([{key:"invalidcertificates",component:"mod_jqshow"}]).done((function(strings){messageBox.append('<div class="alert alert-danger" role="alert">'+strings[0]+"</div>")})).fail(notification.exception)},TestSockets.prototype.webSocket.onclose=function(){str.get_strings([{key:"socketclosed",component:"mod_jqshow"}]).done((function(strings){messageBox.append('<div class="alert alert-warning" role="alert">'+strings[0]+"</div>")})).fail(notification.exception)}},TestSockets.prototype.sendMessageSocket=function(msg){this.webSocket.send(msg)},{initTestSockets:function(region,port){return new TestSockets(region,port)}}}));

//# sourceMappingURL=testssl.min.js.map